# Chapter 2. 개략적인 규모 추정

## 2.1. 2의 제곱수

## 2.2. 모든 프로그래머가 알아야 하는 응답지연 값

L1 캐시 참조: 1ns

분기 예측 오류: 3ns

L2 캐시 참조: 4ns

뮤텍스 락/언락: 17ns

일반 상용 네트워크상에서 2K바이트 전송: 44ns

주 메모리 참조: 100ns

Zippy로 1kb 압축: 2us

메모리에서 1M바이트 순차적 읽기: 3us

SSD상에서 임의 위치의 데이터 읽기: 16us

SSD에서 1M바이트 순차적 읽기: 49us

동일 데이터 센터 내에서의 패킷 왕복 지연시간: 500us

디스크에서 1M바이트 순차적 읽기: 825us

디스크 탐색: 2ms

CA에서 네덜란드까지의 패킷 왕복 지연시간: 150ms

- 메모리는 빠르지만 디스크는 아직도 느리다.
- 디스크 탐색(seek)는 가능한 한 피하라.
- 단순한 압축 알고리즘은 빠르다.
- 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라.
- 데이터 센터는 보통 여러 지역(region)에 분산되어 있고, 센터들 간에 데이터를 주고받는 데는 시간이 걸린다.

## 2.3. 가용성에 관계된 수치들

고가용성(high availability)은 시스템이 오랜 시간 동안 지속적으로 중단 업싱 운영될 수 있는 능력을 지칭하는 용어다.

SLA(Service Level Agreement)는 서비스 사업자(service provider)가 보편적으로 사용하는 용어로, 서비스 사업자와 고객 사이에 맺어진 합의를 의미한다. 이 합의에는 서비스 사업자가 제공하는 서비스의 가용시간(uptime)이 공식적으로 기술되어 있다. 아마존, 구글, 그리고 마이크로소프트 같은 사업자는 99% 이상의 SLA를 제공한다. 가용시간은 관습적으로 숫자 9를 사용해 표시한다. 9가 많으면 많을수록 좋다고 보면 된다.

|가용률|하루당 장애시간|주당 장애시간|개월당 장애시간|연간 장애시간|
|:-|:-|:-|:-|:-|
|99%|14.40 mins|1.68 hrs|7.31 hrs|3.65 days|
|99.9%|1.44 mins|10.08 mins|43.83 mins|8.77 hrs|
|99.99%|8.64 s|1.01 mins|4.38 mins|52.60 mins|
|99.999%|864.00 ms|6.05 s|26.30 s| 5.26 mins|
|99.9999%|86.40 ms|604.80 ms|2.63 s|31.56 s|

## 2.4. 예제: 트위터 QPS와 저장소 요구량 추정

## 2.5. 팁

## 2.6. 참고문헌
